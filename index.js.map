{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/loader.js","../src/js/modal.js","../src/js/artists.js","../src/js/feedback.js","../src/js/leave-feedback.js"],"sourcesContent":["const openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu')\nconst menu = document.querySelector('.js-menu')\nconst body = document.body;\nconst mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\nopenMenuBtn.addEventListener('click', () => {\n    menu.classList.add('is-open');\n    body.classList.add('no-scroll');\n});\n\ncloseMenuBtn.addEventListener('click', () => {\n    menu.classList.add('closing');       \n    body.classList.remove('no-scroll');  \n\n    setTimeout(() => {\n        menu.classList.remove('is-open', 'closing'); \n    }, 200); \n});\n\n \nmobileLinks.forEach(link => {\n  link.addEventListener('click', () => {\n    menu.classList.remove('is-open');\n    body.classList.remove('no-scroll');\n  });\n});","const loader = document.querySelector('.loader');\n\n//  лоадер показується \nexport function showLoader() {\n    loader.classList.remove('is-hidden');\n}\n\n// лоадер ховається\nexport function hideLoader() {\n    loader.classList.add('is-hidden');\n}","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\nconst loader = document.querySelector('.loader');\n\nconst formattedDuration = duration => {\n  const minutes = Math.floor(duration / 60000);\n  const seconds = Math.floor((duration % 60000) / 1000);\n  return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n};\n\nexport async function openArtistModal(artistId) {\n  if (!artistId) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Artist ID is missing.',\n    });\n    return;\n  }\n\n  showGlobalLoader(); // показываем глобальный лоадер\n  try {\n    const response = await axios.get(`/artists/${artistId}`);\n    const albumsResponse = await axios.get(`/artists/${artistId}/albums`);\n    const albums = albumsResponse.data.albumsList || [];\n    const artist = response.data;\n    const modal = createModal('artists');\n    document.body.appendChild(modal);\n    setupModalCloseHandlers(modal);\n    renderArtistContent(modal, artist, albums);\n  } catch (error) {\n    console.error('Error fetching artist details:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to load artist details.',\n    });\n  } finally {\n    hideGlobalLoader();\n  }\n}\n\nexport function createModal(modalAdress) {\n  const modal = document.createElement('div');\n  modal.className = `${modalAdress}-modal`;\n  modal.innerHTML = `\n    <div class=\"${modalAdress}-modal-content\">\n    <span class=\"modal-close-btn-wraper\">\n            <button type=\"button\" class=\"modal-close-btn\" aria-label=\"Close\"> <svg class=\"SVG-icon\"\n              width=\"24\" height=\"16\">\n              <use href=\"/icon-sprite.svg#icon-clouse\"></use>\n            </svg></button>\n            </span>\n    </div>\n  `;\n  return modal;\n}\n\nfunction showGlobalLoader() {\n  let loader = document.querySelector('.global-loader');\n  if (!loader) {\n    loader = document.createElement('div');\n    loader.className = 'global-loader';\n    loader.innerHTML = `<div class=\"loader\"></div>`;\n    document.body.appendChild(loader);\n  }\n  loader.classList.remove('hidden');\n}\nfunction hideGlobalLoader() {\n  const loader = document.querySelector('.global-loader');\n  if (loader) {\n    loader.classList.add('hidden');\n  }\n}\n\nexport function setupModalCloseHandlers(modal, onClose) {\n  const closeBtn = modal.querySelector('.modal-close-btn');\n\n  function closeModal() {\n    modal.remove();\n    if (typeof onClose === 'function') {\n      onClose(); // включаем кнопку обратно\n    }\n    document.removeEventListener('keydown', closeOnEsc);\n    modal.removeEventListener('click', closeOnBackdropClick);\n  }\n\n  closeBtn.addEventListener('click', closeModal);\n\n  const closeOnEsc = event => {\n    if (event.key === 'Escape') {\n      closeModal();\n    }\n  };\n  document.addEventListener('keydown', closeOnEsc);\n\n  const closeOnBackdropClick = event => {\n    if (event.target === modal) {\n      closeModal();\n    }\n  };\n  modal.addEventListener('click', closeOnBackdropClick);\n}\n\nfunction renderArtistContent(modal, artist, albums) {\n  const content = modal.querySelector('.artists-modal-content');\n\n  content.innerHTML = `\n            <span class=\"modal-close-btn-wraper\">\n            <button type=\"button\" class=\"modal-close-btn\" aria-label=\"Close\"> <svg class=\"SVG-icon\"\n              width=\"24\" height=\"16\">\n              <use href=\"/icon-sprite.svg#icon-clouse\"></use>\n            </svg></button>\n            </span>\n            <h2 class=\"m-a-name\">${artist.strArtist}</h2>\n            <div class=\"modal-wraper\">\n            <img src=\"${artist.strArtistThumb}\" alt=\"${\n    artist.strArtist\n  }\" class=\"m-a-img\" loading=\"lazy\">\n            <div class=\"desc-container\">\n            <div class=\"info-wraper\">\n                <div class=\"desc-box\">\n                    <p class=\"m-a-topic\">Years active</p>\n                    <p class=\"m-a-info\">${artist.intFormedYear} - ${\n    artist.intDiedYear || 'Present'\n  }</p>\n                </div>\n                <div class=\"desc-box\">\n                    <p class=\"m-a-topic\">Sex</p>\n                    <p class=\"m-a-info\">${artist.strGender}</p>\n                </div>\n                </div>\n                <div class=\"info-wraper\">\n                <div class=\"desc-box\">\n                    <p class=\"m-a-topic\">Members</p>\n                    <p class=\"m-a-info\">${artist.intMembers}</p>\n                </div>\n                <div class=\"desc-box\">\n                    <p class=\"m-a-topic\">Country</p>\n                    <p class=\"m-a-info\">${artist.strCountry}</p>\n                </div>\n                </div>\n                <div class=\"desc-box\">\n                    <p class=\"m-a-topic\">Biography</p>\n                    <p class=\"m-a-info-biography\">${artist.strBiographyEN}</p>\n                </div>\n                <div class=\"genres-container\">\n                    <p class=\"m-a-genres-container\">${artist.genres\n                      .map(genre => `<span class=\"m-a-genre\">${genre}</span>`)\n                      .join('')}</p>\n                </div>\n            </div>\n            </div>\n             <p class=\"m-a-albums-topic\">Albums</p>\n            <ul class=\"m-a-albums\">\n            ${albums\n              .map(\n                album => `\n                <li class=\"m-a-album-item\">\n                <span class=\"m-a-album-name\">${album.strAlbum}</span>\n                <ul class=\"m-a-track-names\">\n                   <div class=\"info-container\"><p class=\"m-a-track-title\">Track</p><p class=\"m-a-time-title\">Time</p><p class=\"m-a-link-title\">Link</p></div>\n                ${album.tracks\n                  .map(\n                    track => `\n                 \n                        <div class=\"m-a-track-row\">\n                            <span class=\"m-a-track-name\">${\n                              track.strTrack\n                            }</span>\n                            <span class=\"m-a-track-duration\">${formattedDuration(\n                              track.intDuration\n                            )}</span>\n                            <a class=\"m-a-track-link\" href=\"${\n                              track.strTrackThumb || '#'\n                            }\"  target=\"_blank\"><svg class=\"SVG-icon\"\n              width=\"24\" height=\"16\">\n              <use href=\"/icon-sprite.svg#icon-youtube\"></use>\n            </svg></a>\n                        </div>`\n                  )\n                  .join('')}\n                </ul>\n                </li>`\n              )\n              .join('')}\n            </ul>\n    `;\n  setupModalCloseHandlers(modal);\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { openArtistModal } from './modal.js';\nimport { showLoader, hideLoader } from './loader.js';\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\n\nconst artistsList = document.querySelector('.artists-list');\nconst loadMoreBtn = document.querySelector('.load-more-btn');\nlet currentPage = 1;\nconst limit = 8;\n\nloadArtists();\nloadMoreBtn.addEventListener('click', () => {\n  currentPage += 1;\n  loadArtists();\n});\n\nartistsList.addEventListener('click', function (modalParameter) {\n  const btn = modalParameter.target.closest('.learn-more-btn');\n  if (!btn) return;\n\n  const artistId = btn.dataset.id;\n  openArtistModal(artistId);\n});\n\nasync function fetchArtists(page) {\n  const response = await axios.get('/artists', {\n    params: {\n      page: page,\n      limit: limit,\n    },\n  });\n  return response.data;\n}\n// Обрізка біографіі\nfunction formatBio(text, maxWords = 20) {\n  if (!text) return '';\n  const firstDotIndex = text.indexOf('.');\n  const words = text.split(' ');\n\n  if (firstDotIndex !== -1) {\n    const textBeforeDot = text.substring(0, firstDotIndex + 1);\n    const wordsBeforeDot = textBeforeDot.split(' ').length;\n    if (wordsBeforeDot <= maxWords) return textBeforeDot;\n  }\n\n  if (words.length > maxWords) {\n    return words.slice(0, maxWords).join(' ') + '...';\n  }\n  return text;\n}\nfunction renderArtists(artists, shouldAppend = false) {\n  const markup = artists\n    .map(\n      ({ _id, strArtist, strArtistThumb, genres, strBiographyEN }) => `\n        <li class=\"artist-item\">\n            <img class=\"artist-img\" src=\"${strArtistThumb}\" alt=\"${strArtist}\">\n            <div class=\"artist-info\">\n                <ul class=\"genres\">${genres\n                  .map(genre => `<li>${genre}</li>`)\n                  .join('')}</ul> \n                <h3 >${strArtist}</h3>\n                <p >${formatBio(strBiographyEN, 20)}</p> \n                <button type=\"button\" class=\"learn-more-btn\" data-id=\"${_id}\">Learn more <svg class=\"SVG-icon\" width=\"24\" height=\"16\">\n    <use href=\"/icon-sprite.svg#icon-icon-lr-more\"></use>\n  </svg></button>\n            </div>\n        </li>\n    `\n    )\n    .join('');\n\n  if (shouldAppend) {\n    artistsList.insertAdjacentHTML('beforeend', markup);\n  } else {\n    artistsList.innerHTML = markup;\n  }\n}\nasync function loadArtists() {\n  try {\n    showLoader(); // Показуємо лоадер перед початком завантаження даних\n\n    loadMoreBtn.classList.add('is-hidden'); //Ховаємо поки поки йде завантаження нових\n\n    const data = await fetchArtists(currentPage);\n\n    renderArtists(data.artists, currentPage > 1);\n\n    // Ховаємо лодер колидосягли останньої сторінки\n    if (data.page >= data.totalPages) {\n      loadMoreBtn.classList.add('is-hidden');\n      if (currentPage > 1) {\n        iziToast.info({\n          position: 'topRight',\n          message: 'Ouch! That is all, folks! No more artists to show.',\n        });\n      }\n      // Показуємо лодер якщо є сторінки\n    } else {\n      loadMoreBtn.classList.remove('is-hidden');\n    }\n  } catch (error) {\n    iziToast.error({\n      position: 'topRight',\n      message:\n        'Welcome to Ukraine! Blackout again? Or the server is resting...',\n    });\n  } finally {\n    hideLoader(); // Ховаємо лоадер списку артистів\n  }\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\nimport Raty from 'raty-js/src/raty.js';\n\nlet swiper;\n\nasync function fetchFeedbacks() {\n  try {\n    const response = await axios.get('/feedbacks', {\n      params: {\n        page: 1,\n        limit: 10,\n      },\n    });\n    return response.data.data || [];\n  } catch (error) {\n    console.error('Error fetching feedbacks:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to load feedbacks.',\n    });\n    return [];\n  }\n}\n\nfunction renderFeedbacks(feedbacks) {\n  const swiperWrapper = document.querySelector('.swiper-wrapper');\n  swiperWrapper.innerHTML = '';\n\n  feedbacks.forEach(feedback => {\n    const slide = document.createElement('div');\n    slide.className = 'swiper-slide';\n    slide.innerHTML = `\n            <div class=\"feedback-card\">\n            <div class=\"rating\" data-rating=\"${feedback.rating || 0}\"></div>\n                <p class=\"feedback-message\">\"${feedback.descr}\"</p>\n                <p class=\"feedback-author\">${feedback.name}</p>\n            </div>\n        `;\n    swiperWrapper.appendChild(slide);\n  });\n  initRatings();\n}\n\nfunction initRatings() {\n  const ratingElements = document.querySelectorAll('.rating');\n\n  ratingElements.forEach(el => {\n    const ratingValue = parseFloat(el.dataset.rating) || 0;\n\n    const ratyInstance = new Raty(el, {\n      readOnly: true,\n      score: ratingValue,\n      number: 5,\n      path: 'raty-images/',\n      starType: 'img',\n    });\n\n    ratyInstance.init();\n  });\n}\n\nfunction initSwiper() {\n  if (swiper) swiper.destroy();\n\n  swiper = new Swiper('.mySwiper', {\n    pagination: {\n      el: '.swiper-pagination',\n      dynamicBullets: true,\n    },\n    slidesPerView: 1,\n    spaceBetween: 20,\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n  });\n}\n\nasync function loadAndRenderFeedbacks() {\n  const feedbacks = await fetchFeedbacks();\n  renderFeedbacks(feedbacks);\n  initSwiper();\n}\n\ndocument.addEventListener('DOMContentLoaded', loadAndRenderFeedbacks);\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport Raty from 'raty-js/src/raty.js';\nimport { setupModalCloseHandlers, createModal } from './modal.js';\n\nconst leaveFeedbackBtn = document.querySelector('.leave-feedback-btn');\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\n\nasync function openFeedbackModal() {\n  leaveFeedbackBtn.disabled = true;\n  const modal = createModal('feedback');\n  document.body.appendChild(modal);\n  setupModalCloseHandlers(modal, () => {\n    leaveFeedbackBtn.disabled = false;\n  });\n\n  try {\n    renderModalContent(modal);\n  } catch (error) {\n    console.error('Error opening feedback modal:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to open feedback form.',\n    });\n    leaveFeedbackBtn.disabled = false;\n  }\n}\n\nfunction renderModalContent(modal) {\n  const content = modal.querySelector('.feedback-modal-content');\n  content.innerHTML = `\n          <form class=\"feedback-form\">\n          <span class=\"modal-close-btn-wraper\">\n            <button type=\"button\" class=\"modal-close-btn\" aria-label=\"Close\"> <img src=\"/img/close-icon.svg\" alt=\"Close menu\" class=\"close-modal-btn\"></button> \n        </span>\n              <h2>Submit Feedback</h2>\n              <input type=\"text\" id=\"feedback-name\" placeholder=\"Emily\">\n              <textarea id=\"feedback-message\" placeholder=\"Type your message...\"></textarea>\n               <div class=\"rating\" data-rating=\"0\"></div>\n              <button type=\"submit\" id=\"submit-feedback\" disabled>Submit Feedback</button>\n              </form>\n              `;\n\n  const ratingElement = content.querySelector('.rating');\n  const raty = new Raty(ratingElement, {\n    number: 5,\n    score: 0,\n    half: true,\n    path: 'raty-images/',\n    starType: 'img',\n    click: function (score) {\n      ratingElement.setAttribute('data-rating', score);\n      content.querySelector('#submit-feedback').disabled = false;\n    },\n    hints: ['Bad', 'Lot to Improve', 'Usable', 'Good', 'Gorgeous'],\n  });\n  raty.init();\n\n  setupFormValidation(content.querySelector('.feedback-form'), modal);\n}\n\nfunction setupFormValidation(form, modal) {\n  form.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const name = form.querySelector('#feedback-name').value.trim();\n    const descr = form.querySelector('#feedback-message').value.trim();\n    const rating = parseFloat(\n      form.querySelector('.rating').getAttribute('data-rating')\n    );\n\n    let errors = [];\n\n    if (name.length < 2 || name.length > 16) {\n      errors.push('Name must be between 2 and 16 characters.');\n    }\n    if (descr.length < 10 || descr.length > 512) {\n      errors.push('Message must be between 10 and 512 characters.');\n    }\n    if (isNaN(rating) || rating < 1 || rating > 5) {\n      errors.push('Rating must be between 1 and 5.');\n    }\n\n    if (errors.length > 0) {\n      iziToast.error({\n        title: 'Validation Error',\n        message: errors.join(' '),\n      });\n      return;\n    }\n\n    const feedbackData = { name, descr, rating };\n    try {\n      const response = await axios.post('/feedbacks', feedbackData);\n\n      iziToast.success({\n        title: 'Success',\n        message: 'Your feedback has been submitted!',\n      });\n\n      // Закрыть модалку после успешной отправки\n      modal.remove();\n    } catch (error) {\n      console.error(\n        'Full error:',\n        error.response?.status,\n        error.response?.data\n      );\n      console.error('Error submitting feedback:', error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to submit feedback. Please try again later.',\n      });\n    }\n  });\n}\n\nleaveFeedbackBtn.addEventListener('click', openFeedbackModal);\n"],"names":["openMenuBtn","closeMenuBtn","menu","body","mobileLinks","link","loader","showLoader","hideLoader","axios","formattedDuration","duration","minutes","seconds","openArtistModal","artistId","iziToast","showGlobalLoader","response","albums","artist","modal","createModal","setupModalCloseHandlers","renderArtistContent","error","hideGlobalLoader","modalAdress","onClose","closeBtn","closeModal","closeOnEsc","closeOnBackdropClick","event","content","genre","album","track","artistsList","loadMoreBtn","currentPage","limit","loadArtists","modalParameter","btn","fetchArtists","page","formatBio","text","maxWords","firstDotIndex","words","textBeforeDot","renderArtists","artists","shouldAppend","markup","_id","strArtist","strArtistThumb","genres","strBiographyEN","data","swiper","fetchFeedbacks","renderFeedbacks","feedbacks","swiperWrapper","feedback","slide","initRatings","el","ratingValue","Raty","initSwiper","loadAndRenderFeedbacks","leaveFeedbackBtn","openFeedbackModal","renderModalContent","ratingElement","score","setupFormValidation","form","name","descr","rating","errors","feedbackData"],"mappings":"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"}