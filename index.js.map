{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/loader.js","../src/js/modal.js","../src/img/caret-right.svg","../src/js/artists.js","../src/js/feedback.js"],"sourcesContent":["const openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu')\nconst menu = document.querySelector('.js-menu')\nconst body = document.body;\nconst mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\nopenMenuBtn.addEventListener('click', () => {\n    menu.classList.add('is-open');\n    body.classList.add('no-scroll');\n});\n\ncloseMenuBtn.addEventListener('click', () => {\n    menu.classList.add('closing');       \n    body.classList.remove('no-scroll');  \n\n    setTimeout(() => {\n        menu.classList.remove('is-open', 'closing'); \n    }, 200); \n});\n\n \nmobileLinks.forEach(link => {\n  link.addEventListener('click', () => {\n    menu.classList.remove('is-open');\n    body.classList.remove('no-scroll');\n  });\n});","const loader = document.querySelector('.loader');\n\n//  лоадер показується \nexport function showLoader() {\n    loader.classList.remove('is-hidden');\n}\n\n// лоадер ховається\nexport function hideLoader() {\n    loader.classList.add('is-hidden');\n}","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\nconst loader = document.querySelector('.loader');\n\nconst formattedDuration = duration => {\n  const minutes = Math.floor(duration / 60000);\n  const seconds = Math.floor((duration % 60000) / 1000);\n  return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n};\n\nexport async function openArtistModal(artistId) {\n  if (!artistId) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Artist ID is missing.',\n    });\n    return;\n  }\n\n  const modal = createLoadingModal();\n  document.body.appendChild(modal);\n\n  setupModalCloseHandlers(modal);\n\n  try {\n    const response = await axios.get(`/artists/${artistId}`);\n    const albumsResponse = await axios.get(`/artists/${artistId}/albums`);\n    const albums = albumsResponse.data.albumsList || [];\n    const artist = response.data;\n    renderArtistContent(modal, artist, albums);\n  } catch (error) {\n    console.error('Error fetching artist details:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to load artist details.',\n    });\n  }\n}\n\nfunction createLoadingModal() {\n  const modal = document.createElement('div');\n  modal.className = 'artist-modal';\n  modal.innerHTML = `\n    <div class=\"modal-content\">\n    <span class=\"modal-close-btn-wraper\">\n            <button type=\"button\" class=\"modal-close-btn\" aria-label=\"Close\"> <img src=\"/img/close-icon.svg\" alt=\"Close menu\" class=\"close-modal-btn\"></button> \n            </span>\n      <div class=\"loader\"></div>\n    </div>\n  `;\n  return modal;\n}\n\nfunction setupModalCloseHandlers(modal) {\n  const closeBtn = modal.querySelector('.modal-close-btn');\n  closeBtn.addEventListener('click', () => {\n    modal.remove();\n  });\n\n  const closeOnEsc = event => {\n    if (event.key === 'Escape') {\n      modal.remove();\n      document.removeEventListener('keydown', closeOnEsc);\n    }\n  };\n  document.addEventListener('keydown', closeOnEsc);\n\n  const closeOnBackdropClick = event => {\n    if (event.target === modal) {\n      modal.remove();\n      modal.removeEventListener('click', closeOnBackdropClick);\n      document.removeEventListener('keydown', closeOnEsc);\n    }\n  };\n  modal.addEventListener('click', closeOnBackdropClick);\n}\n\nfunction renderArtistContent(modal, artist, albums) {\n  // const existingModalWindow = document.querySelector('.artist-modal');\n  // if (existingModalWindow) {\n  //   existingModalWindow.remove();\n  // }\n\n  const content = modal.querySelector('.modal-content');\n\n  content.innerHTML = `\n        <div class=\"modal-content\">\n            <span class=\"modal-close-btn-wraper\">\n            <button type=\"button\" class=\"modal-close-btn\" aria-label=\"Close\"> <img src=\"/img/close-icon.svg\" alt=\"Close menu\" class=\"close-modal-btn\"></button> \n            </span>\n            <h2 class=\"m-a-name\">${artist.strArtist}</h2>\n            <div class=\"modal-wraper\">\n            <img src=\"${artist.strArtistThumb}\" alt=\"${artist.strArtist}\" class=\"m-a-img\" loading=\"lazy\">\n            <div class=\"desc-container\">\n            <div class=\"info-wraper\">\n                <div class=\"desc-box\">\n                    <p class=\"m-a-topic\">Years active</p>\n                    <p class=\"m-a-info\">${artist.intFormedYear} - ${artist.intDiedYear || 'Present'}</p>\n                </div>\n                <div class=\"desc-box\">\n                    <p class=\"m-a-topic\">Sex</p>\n                    <p class=\"m-a-info\">${artist.strGender}</p>\n                </div>\n                </div>\n                <div class=\"info-wraper\">\n                <div class=\"desc-box\">\n                    <p class=\"m-a-topic\">Members</p>\n                    <p class=\"m-a-info\">${artist.intMembers}</p>\n                </div>\n                <div class=\"desc-box\">\n                    <p class=\"m-a-topic\">Country</p>\n                    <p class=\"m-a-info\">${artist.strCountry}</p>\n                </div>\n                </div>\n                <div class=\"desc-box\">\n                    <p class=\"m-a-topic\">Biography</p>\n                    <p class=\"m-a-info-biography\">${artist.strBiographyEN}</p>\n                </div>\n                <div class=\"genres-container\">\n                    <p class=\"m-a-genres-container\">${artist.genres.map(genre => `<span class=\"m-a-genre\">${genre}</span>`).join('')}</p>\n                </div>\n            </div>\n            </div>\n             <p class=\"m-a-albums-topic\">Albums</p>\n            <ul class=\"m-a-albums\">\n            ${albums\n              .map(\n                album => `\n                <li class=\"m-a-album-item\">\n                <span class=\"m-a-album-name\">${album.strAlbum}</span>\n                <ul class=\"m-a-track-names\">\n                   <div class=\"info-container\"><p class=\"m-a-track-title\">Track</p><p class=\"m-a-time-title\">Time</p><p class=\"m-a-link-title\">Link</p></div>\n                ${album.tracks\n                  .map(\n                    track => `\n                 \n                        <div class=\"m-a-track-row\">\n                            <span class=\"m-a-track-name\">${track.strTrack}</span>\n                            <span class=\"m-a-track-duration\">${formattedDuration(track.intDuration)}</span>\n                            <a class=\"m-a-track-link\"\n                            href=\"${track.movie && track.movie.trim() ? track.movie : '#'}\"  \n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            aria-label=\"Open Youtube link\">\n                            ${\n                              track.movie && track.movie.trim()\n                                ? `\n          <svg class=\"youtube-logo\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"white\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.016 3.016 0 0 0 .502 6.186 31.91 31.91 0 0 0 0 12.005a31.91 31.91 0 0 0 .502 5.819 3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.016 3.016 0 0 0 2.122-2.136A31.91 31.91 0 0 0 24 12.005a31.91 31.91 0 0 0-.502-5.819zM9.75 15.566V8.434L15.75 12l-6 3.566z\"/>\n          </svg>\n        `\n                                : ''\n                            }\n                            </a>\n                        </div>`\n                  )\n                  .join('')}\n                </ul>\n                </li>`\n              )\n              .join('')}\n            </ul>\n         </div>\n    `;\n  setupModalCloseHandlers(modal);\n  // document.body.appendChild(modal);\n}\n","export default \"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%2019L17%2012L9%205V19Z'%20fill='white'/%3e%3c/svg%3e\"","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { openArtistModal } from './modal.js';\nimport { showLoader, hideLoader } from './loader.js';\nimport caretIcon from '../img/caret-right.svg';\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\n\nconst artistsList = document.querySelector('.artists-list');\nconst loadMoreBtn = document.querySelector('.load-more-btn');\nlet currentPage = 1;\nconst limit = 8;\n\nloadArtists();\nloadMoreBtn.addEventListener('click', () => {\n  currentPage += 1;\n  loadArtists();\n});\n\nartistsList.addEventListener('click', function (modalParameter) {\n  const btn = modalParameter.target.closest('.learn-more-btn');\n  if (!btn) return;\n\n  const artistId = btn.dataset.id;\n  openArtistModal(artistId);\n});\n\nasync function fetchArtists(page) {\n  const response = await axios.get('/artists', {\n    params: {\n      page: page,\n      limit: limit,\n    },\n  });\n  return response.data;\n}\n// Обрізка біографіі\nfunction formatBio(text, maxWords = 20) {\n  if (!text) return '';\n  const firstDotIndex = text.indexOf('.');\n  const words = text.split(' ');\n\n  if (firstDotIndex !== -1) {\n    const textBeforeDot = text.substring(0, firstDotIndex + 1);\n    const wordsBeforeDot = textBeforeDot.split(' ').length;\n    if (wordsBeforeDot <= maxWords) return textBeforeDot;\n  }\n\n  if (words.length > maxWords) {\n    return words.slice(0, maxWords).join(' ') + '...';\n  }\n  return text;\n}\nfunction renderArtists(artists, shouldAppend = false) {\n  const markup = artists\n    .map(\n      ({ _id, strArtist, strArtistThumb, genres, strBiographyEN }) => `\n        <li class=\"artist-item\">\n            <img class=\"artist-img\" src=\"${strArtistThumb}\" alt=\"${strArtist}\">\n            <div class=\"artist-info\">\n                <ul class=\"genres\">${genres\n                  .map(genre => `<li>${genre}</li>`)\n                  .join('')}</ul> \n                <h3 >${strArtist}</h3>\n                <p >${formatBio(strBiographyEN, 20)}</p> \n                <button type=\"button\" class=\"learn-more-btn\" data-id=\"${_id}\">Learn more<img src=\"${caretIcon}\"\n        ></button>\n            </div>\n        </li>\n    `\n    )\n    .join('');\n\n  if (shouldAppend) {\n    artistsList.insertAdjacentHTML('beforeend', markup);\n  } else {\n    artistsList.innerHTML = markup;\n  }\n}\nasync function loadArtists() {\n  try {\n    showLoader(); // Показуємо лоадер перед початком завантаження даних\n\n    loadMoreBtn.classList.add('is-hidden'); //Ховаємо поки поки йде завантаження нових\n\n    const data = await fetchArtists(currentPage);\n\n    renderArtists(data.artists, currentPage > 1);\n\n    // Ховаємо лодер колидосягли останньої сторінки\n    if (data.page >= data.totalPages) {\n      loadMoreBtn.classList.add('is-hidden');\n      if (currentPage > 1) {\n        iziToast.info({\n          position: 'topRight',\n          message: 'Ouch! That is all, folks! No more artists to show.',\n        });\n      }\n      // Показуємо лодер якщо є сторінки\n    } else {\n      loadMoreBtn.classList.remove('is-hidden');\n    }\n  } catch (error) {\n    iziToast.error({\n      position: 'topRight',\n      message:\n        'Welcome to Ukraine! Blackout again? Or the server is resting...',\n    });\n  } finally {\n    hideLoader(); // Ховаємо лоадер списку артистів\n  }\n}\n","// Swiper\nimport Swiper from 'swiper';\nimport 'swiper/css';\n\nconst API_URL = 'https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1';\n\nconst swiperWrapper = document.querySelector('.swiper-wrapper');\nconst prevBtn = document.querySelector('.prev-arrow');\nconst nextBtn = document.querySelector('.next-arrow');\n\nconst dotFirst = document.querySelector('.dot-first');\nconst dotMiddle = document.querySelector('.dot-middle');\nconst dotLast = document.querySelector('.dot-last');\n\n/*  ЗАВАНТАЖЕННЯ ВІДГУКІВ */\nasync function loadFeedbacks() {\n  try {\n    const response = await fetch(API_URL);\n    if (!response.ok) {\n      console.error(`Помилка HTTP: ${response.status}`);\n      return;\n    }\n\n    const data = await response.json();\n    const feedbacks = Array.isArray(data.data) ? data.data.slice(0, 10) : [];\n\n    if (!feedbacks.length) {\n      console.warn('Немає відгуків для відображення.');\n      swiperWrapper.innerHTML =\n        '<p style=\"color:#fff;text-align:center;\">Відгуків поки немає.</p>';\n      return;\n    }\n\n    createSlides(feedbacks);\n    initSwiper(feedbacks.length);\n  } catch (error) {\n    console.error('Помилка при завантаженні відгуків:', error);\n  }\n}\n\n/*  СТВОРЕННЯ СЛАЙДІВ */\nfunction createSlides(feedbacks) {\n  const slidesMarkup = feedbacks\n    .map(f => {\n      const rating = Math.round(f.rating);\n      return `\n        <div class=\"swiper-slide feedback-content\">\n          <div class=\"stars-rating\" data-score=\"${rating}\"></div>\n          <blockquote class=\"feedback-quote\">\"${f.descr}\"</blockquote>\n          <div class=\"feedback-author\">${f.name}</div>\n        </div>\n      `;\n    })\n    .join('');\n\n  swiperWrapper.innerHTML = slidesMarkup;\n  initStarRatings();\n}\n\n/* ІНІЦІАЛІЗАЦІЯ ЗІРОЧОК */\nfunction initStarRatings() {\n  $('.stars-rating').each(function () {\n    const score = $(this).data('score');\n    $(this).raty({\n      score: score,\n      readOnly: true,\n      starType: 'i',\n      hints: ['', '', '', '', ''],\n      starOn: '★',\n      starOff: '☆',\n    });\n  });\n}\n\n/* SWIPER */\nfunction initSwiper(totalSlides) {\n  const swiper = new Swiper('.feedback-slider', {\n    slidesPerView: 1,\n    spaceBetween: 30,\n    loop: false,\n    navigation: { nextEl: nextBtn, prevEl: prevBtn },\n    on: {\n      slideChange: function () {\n        updatePagination(this.activeIndex, totalSlides);\n      },\n    },\n  });\n\n  updatePagination(0, totalSlides);\n\n  dotFirst.addEventListener('click', () => swiper.slideTo(0));\n  dotMiddle.addEventListener('click', () =>\n    swiper.slideTo(Math.floor(totalSlides / 2))\n  );\n  dotLast.addEventListener('click', () => swiper.slideTo(totalSlides - 1));\n}\n\n/* КАСТОМНА ПАГІНАЦІЯ */\nfunction updatePagination(activeIndex, total) {\n  dotFirst.classList.remove('active');\n  dotMiddle.classList.remove('active');\n  dotLast.classList.remove('active');\n\n  if (activeIndex === 0) dotFirst.classList.add('active');\n  else if (activeIndex === total - 1) dotLast.classList.add('active');\n  else dotMiddle.classList.add('active');\n}\n\n/* ЗАПУСК */\nloadFeedbacks();\n"],"names":["openMenuBtn","closeMenuBtn","menu","body","mobileLinks","link","loader","showLoader","hideLoader","axios","formattedDuration","duration","minutes","seconds","openArtistModal","artistId","iziToast","modal","createLoadingModal","setupModalCloseHandlers","response","albums","artist","renderArtistContent","error","closeOnEsc","event","closeOnBackdropClick","content","genre","album","track","caretIcon","artistsList","loadMoreBtn","currentPage","limit","loadArtists","modalParameter","btn","fetchArtists","page","formatBio","text","maxWords","firstDotIndex","words","textBeforeDot","renderArtists","artists","shouldAppend","markup","_id","strArtist","strArtistThumb","genres","strBiographyEN","data","API_URL","swiperWrapper","prevBtn","nextBtn","dotFirst","dotMiddle","dotLast","loadFeedbacks","feedbacks","createSlides","initSwiper","slidesMarkup","f","initStarRatings","score","totalSlides","swiper","Swiper","updatePagination","activeIndex","total"],"mappings":"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"}